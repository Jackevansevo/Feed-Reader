{% extends 'feeds/base.html' %}
{% load humanize %}


{% block title %} - Subscriptions{% endblock %}
{% block content %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'feeds:index' %}">Home</a></li>
    <li class="breadcrumb-item active">Feeds</li>
  </ol>
</nav>
{% if subscriptions %}


<a class="btn btn-success" href="{% url 'feeds:feed-add' %}">
  <span class="icon-text">
    <span class="icon is-small">
      <i class="fas fa-plus"></i>
    </span>
    <span>Add</span>
  </span>
</a>


<a class="btn btn-warning" href="{% url 'feeds:opml-import' %}">
  <span class="icon-text">
    <span class="icon is-small">
      <i class="fas fa-upload"></i>
    </span>
    <span>Import</span>
  </span>
</a>


<a class="btn btn-danger" href="{% url 'feeds:opml-export' %}" download>
  <span class="icon-text">
    <span class="icon is-small">
      <i class="fas fa-download"></i>
    </span>
    <span>Export</span>
  </span>
</a>

<br>
<br>


{% endif %}
{% if subscriptions %}
  <table class="table table-striped table-hoverable">
    <tr>
      <th>
	<span class="icon-text">
	  <span class="icon">
	    <i class="fas fa-rss"></i>
	  </span>
	  <span>Feed</span>
	</span>
      </th>
      <th class="text-nowrap d-none d-lg-table-cell">
	<span class="icon-text">
	  <span class="icon">
	    <i class="fas fa-clock"></i>
	  </span>
	  <span>Added</span>
	</span>
      </th>
      <th>
	<span class="icon-text">
	  <span class="icon">
	    <i class="fas fa-tag"></i>
	  </span>
	  <span>Category</span>
	</span>
      </th>
    </tr>
    {% for subscription in subscriptions %}
    <tr>
      <td>
	<a class="text-decoration-none" href="{{ subscription.get_absolute_url }}">{{ subscription.feed.title }}</a>
      </td>
      <td class="text-nowrap d-none d-lg-table-cell">
	{{ subscription.feed.created_at|naturaltime }}
      </td>
      <td>
	{{ subscription.category|default:"-"}}
      </td>
    </tr>
    {% endfor %}
  </table>

{% else %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
  <i class="fa-solid fa-triangle-exclamation"></i>&nbsp;
  <span>No feeds available <a class="alert-link" href="{% url 'feeds:feed-add' %}">Add a feed</a></span>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}
{% endblock %}
